<!doctype html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: black;
            color: white;
        }

        button {
            position: relative;
            padding: 8px 24px;
        }

        canvas {
            display: block;
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <div id="tsp"></div>
    <!--canvas id="canvas"></canvas -->
    <button id="butt">Уииии</button>
    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
    <script>
        const duration = 60 * 1000,
            animationEnd = Date.now() + duration;

        let skew = 1;

        function randomInRange(min, max) {
            return Math.random() * (max - min) + min;
        }

        (function frame() {
            const timeLeft = animationEnd - Date.now(),
                ticks = Math.max(200, 500 * (timeLeft / duration));

            skew = Math.max(0.8, skew - 0.001);

            confetti({
                particleCount: 1,
                startVelocity: 0,
                ticks: ticks,
                origin: {
                    x: Math.random(),
                    // since particles fall down, skew start toward the top
                    y: Math.random() * skew - 0.2,
                },
                colors: ["#ffffff"],
                shapes: ["circle"],
                gravity: randomInRange(0.4, 0.6),
                scalar: randomInRange(0.4, 1),
                drift: randomInRange(-0.4, 0.4),
            });

            if (timeLeft > 0) {
                requestAnimationFrame(frame);
            }
        })();

        butt.onclick = () => {
            const end = Date.now() + 5 * 1000;

            // go Buckeyes!
            const colors = ["#bb0000", "#3388ff", "#22ff11"];

            (function frame() {
                confetti({
                    startVelocity: 65,
                    particleCount: 2,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0, y: 1 },
                    colors: colors,
                });

                confetti({
                    startVelocity: 65,
                    particleCount: 2,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1, y: 1 },
                    colors: colors,
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            })();
        }
    </script>
</body>

</html>